{"openapi":"3.0.1","info":{"title":"WX.B2C.User.Verification.Api.Internal","description":"WX.B2C.User.Verification.Api.Internal","version":"1.0"},"paths":{"/api/v1/verification/{userId}/applications/{applicationId}":{"get":{"tags":["Applications"],"operationId":"Applications_Get","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"applicationId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"$ref":"#/components/parameters/CorrelationIdHeaderId"},{"$ref":"#/components/parameters/OperationIdHeaderId"}],"responses":{"default":{"description":"Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplicationDto"}}}}}}},"/api/v1/verification/{userId}/applications/default":{"get":{"tags":["Applications"],"operationId":"Applications_GetDefault","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"$ref":"#/components/parameters/CorrelationIdHeaderId"},{"$ref":"#/components/parameters/OperationIdHeaderId"}],"responses":{"default":{"description":"Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplicationDto"}}}}}}},"/api/v1/verification/{userId}/checks/facial-similarity":{"post":{"tags":["Checks"],"operationId":"Checks_RunFacialSimilarityCheck","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"$ref":"#/components/parameters/CorrelationIdHeaderId"},{"$ref":"#/components/parameters/OperationIdHeaderId"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FacialSimilarityCheckRequest"}},"text/json":{"schema":{"$ref":"#/components/schemas/FacialSimilarityCheckRequest"}},"application/*+json":{"schema":{"$ref":"#/components/schemas/FacialSimilarityCheckRequest"}}},"required":true},"responses":{"default":{"description":"Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"204":{"description":"Success"}}}},"/api/v1/verification/{userId}/documents/{category}/latest":{"get":{"tags":["Documents"],"operationId":"Documents_GetLatest","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"category","in":"path","required":true,"schema":{"$ref":"#/components/schemas/DocumentCategory"}},{"$ref":"#/components/parameters/CorrelationIdHeaderId"},{"$ref":"#/components/parameters/OperationIdHeaderId"}],"responses":{"default":{"description":"Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentDto"}}}}}}},"/api/v1/verification/{userId}/external-profiles":{"get":{"tags":["ExternalProfiles"],"operationId":"ExternalProfiles_Get","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"$ref":"#/components/parameters/CorrelationIdHeaderId"},{"$ref":"#/components/parameters/OperationIdHeaderId"}],"responses":{"default":{"description":"Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ExternalProfileDto"}}}}}}},"post":{"tags":["ExternalProfiles"],"operationId":"ExternalProfiles_Post","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"$ref":"#/components/parameters/CorrelationIdHeaderId"},{"$ref":"#/components/parameters/OperationIdHeaderId"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExternalProviderType"}},"text/json":{"schema":{"$ref":"#/components/schemas/ExternalProviderType"}},"application/*+json":{"schema":{"$ref":"#/components/schemas/ExternalProviderType"}}},"required":true},"responses":{"default":{"description":"Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExternalProfileDto"}}}}}}},"/api/v1/lookup/countries":{"get":{"tags":["Lookup"],"operationId":"Lookup_GetCountries","parameters":[{"$ref":"#/components/parameters/CorrelationIdHeaderId"},{"$ref":"#/components/parameters/OperationIdHeaderId"}],"responses":{"default":{"description":"Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CountryDto"}}}}}}}},"/api/v1/verification/{userId}/profile":{"get":{"tags":["Profile"],"operationId":"Profile_Get","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"$ref":"#/components/parameters/CorrelationIdHeaderId"},{"$ref":"#/components/parameters/OperationIdHeaderId"}],"responses":{"default":{"description":"Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileDto"}}}}}},"delete":{"tags":["Profile"],"operationId":"Profile_Delete","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"$ref":"#/components/parameters/CorrelationIdHeaderId"},{"$ref":"#/components/parameters/OperationIdHeaderId"}],"responses":{"default":{"description":"Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"204":{"description":"Success"}}}},"/api/v1/verification/providers/onfido/sdk-token":{"post":{"tags":["Providers"],"operationId":"Providers_Post","parameters":[{"$ref":"#/components/parameters/CorrelationIdHeaderId"},{"$ref":"#/components/parameters/OperationIdHeaderId"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SdkTokenRequest"}},"text/json":{"schema":{"$ref":"#/components/schemas/SdkTokenRequest"}},"application/*+json":{"schema":{"$ref":"#/components/schemas/SdkTokenRequest"}}},"required":true},"responses":{"default":{"description":"Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SdkTokenDto"}}}}}}}},"components":{"schemas":{"ApplicationDto":{"required":["createdAt","decisionReasons","id","productType","state","userId"],"type":"object","properties":{"id":{"type":"string","format":"uuid"},"userId":{"type":"string","format":"uuid"},"productType":{"$ref":"#/components/schemas/ProductType"},"state":{"$ref":"#/components/schemas/ApplicationState"},"previousState":{"x-nullable":true,"$ref":"#/components/schemas/ApplicationState"},"decisionReasons":{"type":"array","items":{"type":"string","x-nullable":false}},"createdAt":{"type":"string","format":"date-time"},"firstApprovedDate":{"type":"string","format":"date-time","x-nullable":true},"lastApprovedDate":{"type":"string","format":"date-time","x-nullable":true}}},"ApplicationState":{"enum":["Applied","Approved","InReview","Rejected","Cancelled"],"type":"string","x-ms-enum":{"name":"ApplicationState","modelAsString":false}},"CountryDto":{"required":["alpha2Code","alpha3Code","isNotSupported","isStateRequired","name","phoneCode","region","states"],"type":"object","properties":{"name":{"type":"string"},"alpha2Code":{"type":"string"},"alpha3Code":{"type":"string"},"phoneCode":{"type":"string"},"region":{"type":"string"},"isNotSupported":{"type":"boolean"},"isStateRequired":{"type":"boolean"},"states":{"type":"array","items":{"x-nullable":false,"$ref":"#/components/schemas/StateDto"}}}},"DocumentCategory":{"enum":["ProofOfIdentity","ProofOfAddress","Supporting","Taxation","ProofOfFunds","Selfie"],"type":"string","x-ms-enum":{"name":"DocumentCategory","modelAsString":false}},"DocumentDto":{"required":["category","files","id","submittedAt","type"],"type":"object","properties":{"id":{"type":"string","format":"uuid"},"category":{"$ref":"#/components/schemas/DocumentCategory"},"type":{"type":"string"},"submittedAt":{"type":"string","format":"date-time"},"files":{"type":"array","items":{"x-nullable":false,"$ref":"#/components/schemas/DocumentFileDto"}}}},"DocumentFileDto":{"required":["createdAt","downloadHref","fileName"],"type":"object","properties":{"fileName":{"type":"string"},"downloadHref":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"ErrorDetails":{"required":["description","errorCode","errorParameters","errorReason"],"type":"object","properties":{"errorCode":{"type":"string"},"errorReason":{"type":"string"},"errorParameters":{"type":"array","items":{"x-nullable":false,"$ref":"#/components/schemas/StringStringValueTuple"}},"description":{"type":"string"}}},"ErrorResponse":{"required":["errors"],"type":"object","properties":{"errors":{"type":"array","items":{"x-nullable":false,"$ref":"#/components/schemas/ErrorDetails"}}}},"ExternalProfileDto":{"required":["id","name"],"type":"object","properties":{"name":{"$ref":"#/components/schemas/ExternalProviderType"},"id":{"type":"string"}}},"ExternalProviderType":{"enum":["PassFort","Onfido","LexisNexis"],"type":"string","x-ms-enum":{"name":"ExternalProviderType","modelAsString":false}},"FacialSimilarityCheckRequest":{"required":["variant"],"type":"object","properties":{"variant":{"$ref":"#/components/schemas/FacialSimilarityCheckVariant"}}},"FacialSimilarityCheckVariant":{"enum":["Standard","Video"],"type":"string","x-ms-enum":{"name":"FacialSimilarityCheckVariant","modelAsString":false}},"IdDocumentNumberDto":{"required":["number","type"],"type":"object","properties":{"number":{"type":"string"},"type":{"type":"string"}}},"ProductType":{"enum":["WirexBasic"],"type":"string","x-ms-enum":{"name":"ProductType","modelAsString":false}},"ProfileDto":{"required":["userId","verificationDetails"],"type":"object","properties":{"userId":{"type":"string","format":"uuid"},"verificationDetails":{"$ref":"#/components/schemas/VerificationDetailsDto"}}},"RiskLevel":{"enum":["Low","Medium","High","ExtraHigh"],"type":"string","x-ms-enum":{"name":"RiskLevel","modelAsString":false}},"SdkTokenDto":{"required":["applicantId","token"],"type":"object","properties":{"applicantId":{"type":"string"},"token":{"type":"string"}}},"SdkTokenRequest":{"required":["type","userId"],"type":"object","properties":{"userId":{"type":"string","format":"uuid"},"type":{"$ref":"#/components/schemas/TokenType"},"applicationId":{"type":"string","x-nullable":true}}},"StateDto":{"required":["code","isSupported","name"],"type":"object","properties":{"name":{"type":"string"},"code":{"type":"string"},"isSupported":{"type":"boolean"}}},"StringStringValueTuple":{"type":"object"},"TinDto":{"required":["number","type"],"type":"object","properties":{"number":{"type":"string"},"type":{"$ref":"#/components/schemas/TinType"}}},"TinType":{"enum":["SSN","ITIN"],"type":"string","x-ms-enum":{"name":"TinType","modelAsString":false}},"TokenType":{"enum":["Application","Web"],"type":"string","x-ms-enum":{"name":"TokenType","modelAsString":false}},"VerificationDetailsDto":{"type":"object","properties":{"taxResidence":{"type":"array","items":{"type":"string","x-nullable":false},"x-nullable":true},"idDocumentNumber":{"x-nullable":true,"$ref":"#/components/schemas/IdDocumentNumberDto"},"tin":{"x-nullable":true,"$ref":"#/components/schemas/TinDto"},"verificationIpAddress":{"type":"string","x-nullable":true},"isPep":{"type":"boolean","x-nullable":true},"isSanctioned":{"type":"boolean","x-nullable":true},"isAdverseMedia":{"type":"boolean","x-nullable":true},"turnover":{"type":"number","format":"double","x-nullable":true},"nationality":{"type":"string","x-nullable":true},"poiIssuingCountry":{"type":"string","x-nullable":true},"placeOfBirth":{"type":"string","x-nullable":true},"comprehensiveIndex":{"type":"integer","format":"int32","x-nullable":true},"isIpMatched":{"type":"boolean","x-nullable":true},"resolvedCountryCode":{"type":"string","x-nullable":true},"riskLevel":{"x-nullable":true,"$ref":"#/components/schemas/RiskLevel"}}}},"parameters":{"CorrelationIdHeaderId":{"name":"correlationId","in":"header","description":"Unique identifier value that is attached to requests and messages that allow reference to a particular transaction or event chain","required":true,"schema":{"type":"string","format":"uuid"}},"OperationIdHeaderId":{"name":"operationId","in":"header","description":"Request id/operation id to identify operation ordering in a chain","schema":{"type":"string","format":"uuid"}}}}}
